

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/Student/student.css">
</head>
<body>
    <form class="form application-form">

        <header class="form__header">
            <h2>Ukukhula Bursary</h2>
            <h3>(Student)</h3>
          </header>
          <fieldset class="form__details-container">   
            <legend class="form__details-header">Details</legend>
            <ul class="form__controls">
                <li class="form__control">
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" name="first-name" required>
                </li>
            <li class="form__control">
                <label for="last-name">Last Name</label>
                <input type="text" id="last-name" name="last-name" required>
            </li>
            <li class="form__control">
                <label for="id-number">ID Number </label>
                <input type="text" id="id-number" name="id-number" required>
            </li>
            <li class="form__control">
                <label for="birthdate">Birthdate </label>
                <input  id="birthdate" name="bithdate" required>
            </li>
            <li class="form__control">
                <label for="gender">Gender</label>
                <input id="gender" name="gender" required>


            </li>
            <li class="form__control">
                <label for="ethnicity">Ethnicity:</label>
                <input id="ethnicity" name="ethnicity" required>
    
            </li>
        </ul>
    </fieldset>
    <fieldset class="form__details-container">
            <ul class="form__controls">
                <legend class="form__details-header">Contact details</legend>
                <li class="form__control">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required>
                </li>
                <li class="form__control">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </li>
            </ul>
    </fieldset>
    <fieldset class="form__details-container">
        <ul class="form__controls">
            <legend class="form__details-header">Academic Details</legend>
            <li class="form__control">
                <label for="Department">Department</label>
                <input id="Department">
 
            </li>
            <li class="form__control">
                <label for="Grade">Grade</label>
                <input type="text" id="grade" name="grade" required>
            </li>
            <li class="form__control">
                <label for="university">university</label>
                <input type="text" id="university" name="university" required>
            </li>
        </ul>
    </fieldset>
    <fieldset class="form__details-container">
      <legend class="form__details-header">Financial Details</legend>
      <ul class="form__controls">
          <li class="form__control">
              <label for="amount-needed">Amount Needed</label>
              <input type="number" id="amount-needed" name="amount-needed" min="0" step="0.01" required>
          </li>
          <li class="form__control">
              <label for="date">Date</label>
              <input  id="date" name="date" required>
          </li>
      </ul>
  </fieldset>
    <fieldset class="form__details-container">
        <ul class="form__controls">
            <li class="form__control">
                <label for="motivation">Motivational Statement:</label><br>
                <textarea id="motivation" name="motivation" rows="5" required></textarea>
            </li>
        </ul>
    </fieldset>
    <fieldset class="form__details-container">
      <legend class="form__details-header">Status</legend>
      <ul class="form__controls">
          <li class="form__control">
              <label for="status">Status</label>
              <input name="status" id="status" required>
          </li>
      </ul>
  </fieldset>

    </form>

    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>

    <script>
      let currentIndex = 0;
    //   let students = [];
      const studentId = window.location.href.substring(window.location.href.lastIndexOf("=") + 1);

      fetch(`https://ukukhulaapi2024.azurewebsites.net/api/UniversityAdmin/GetStudentByID?studentID=${studentId}`)
          .then(response => response.json())
          .then(data => {
            displayStudent(data)
          })
          .catch(error => {
              console.error('Error fetching application details:', error);
          });

      function displayStudent(data) {
          const student = data
          document.getElementById('first-name').value = student.firstName;
          document.getElementById('last-name').value = student.lastName;
          document.getElementById('id-number').value = student.idNumber;
          document.getElementById('birthdate').value = student.birthDate;
          document.getElementById('gender').value = student.gender;
          document.getElementById('ethnicity').value = student.race;
          document.getElementById('phone').value = student.phoneNumber;
          document.getElementById('email').value = student.email;
          document.getElementById('Department').value = student.department;
          document.getElementById('grade').value = student.grade;
          document.getElementById('university').value = student.university;
          document.getElementById('amount-needed').value = student.amount;
          document.getElementById('date').value = student.date;
          document.getElementById('motivation').value = student.motivation;
          document.getElementById('status').value = student.status;
      }

      document.getElementById('prevBtn').addEventListener('click', () => {
          currentIndex = Math.max(0, currentIndex - 1);
          displayStudent(currentIndex);
      });

      document.getElementById('nextBtn').addEventListener('click', () => {
          currentIndex = Math.min(students.length - 1, currentIndex + 1);
          displayStudent(currentIndex);
      });
  </script>
</body>
</html>
